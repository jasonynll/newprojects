<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>懒加载</title>
    <style>
        ul,li{
            list-style: none;

        }
        .container{
            width:800px;
            margin: 0 auto;
        }
        .container li{
            float:left;
            margin: 10px 10px;
        }
       .container li img {
           width:380px;
          height:380px;
       }
       .clear{
           content:'';
           display: block;
           clear: both;
       }
    </style>
</head>
<body>
    <ul class="container clear">
         <li><a href=""><img src="" data-src="http://img1.imgtn.bdimg.com/it/u=1794894692,1423685501&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img3.imgtn.bdimg.com/it/u=4271053251,2424464488&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img4.imgtn.bdimg.com/it/u=819201812,3553302270&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img5.imgtn.bdimg.com/it/u=4155302816,1201715785&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img4.imgtn.bdimg.com/it/u=1350614941,725003865&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img3.imgtn.bdimg.com/it/u=3771287340,4264471813&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img4.imgtn.bdimg.com/it/u=3432487329,2901563519&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img1.imgtn.bdimg.com/it/u=2921733034,1911830275&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img4.imgtn.bdimg.com/it/u=1164110686,1271050254&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img3.imgtn.bdimg.com/it/u=1303680113,133301350&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img3.imgtn.bdimg.com/it/u=17572568,2472534097&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img5.imgtn.bdimg.com/it/u=3983867653,855618146&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img1.imgtn.bdimg.com/it/u=1794894692,1423685501&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img3.imgtn.bdimg.com/it/u=4271053251,2424464488&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img4.imgtn.bdimg.com/it/u=819201812,3553302270&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img5.imgtn.bdimg.com/it/u=4155302816,1201715785&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img4.imgtn.bdimg.com/it/u=1350614941,725003865&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img3.imgtn.bdimg.com/it/u=3771287340,4264471813&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img4.imgtn.bdimg.com/it/u=3432487329,2901563519&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img1.imgtn.bdimg.com/it/u=2921733034,1911830275&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img4.imgtn.bdimg.com/it/u=1164110686,1271050254&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img3.imgtn.bdimg.com/it/u=1303680113,133301350&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img3.imgtn.bdimg.com/it/u=17572568,2472534097&fm=23&gp=0.jpg" ></a></li>
         <li><a href=""><img src="" data-src="http://img5.imgtn.bdimg.com/it/u=3983867653,855618146&fm=23&gp=0.jpg" ></a></li>
        
    </ul>
    <script src="jquery-3.2.0.min.js"></script>
    <script>
        check();
        $(window).on('scroll', check)

        function  check(){
            $('.container img').not('.load').each(function(){
                if(isShow($(this))){
                    show($(this))
                }
            })
        } 



        function show($imgs){
            $imgs.each(function(){
                var imgUrl = $(this).attr('data-src');
                $(this).attr('src',imgUrl);
                $(this).addClass('load')
            })
        }


        function isShow($node){
            var windowHeight = $(window).height(),
                scrollTop = $(window).scrollTop(),
                offsetTop = $node.offset().top,
                nodeHeight = $node.height();
            if(windowHeight+scrollTop>offsetTop && scrollTop< offsetTop+nodeHeight){
                return true;
            }else{
                return false;
            }     //scrollTop< offsetTop+nodeHeight浏览器上边缘
                 //windowHeight+scrollTop>offsetTop浏览器下边缘
        }
    </script>
</body>
</html>
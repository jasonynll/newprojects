<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>task2</title>
    <style>
        ul,li{
            margin:0px;
            padding:0px;
            list-style:none;
        }
        a{
            text-decoration:none;
            color: #000;
        }
        .clear:after{
            content:"";
            display: block;
            clear:both;
        }
        .clear{
            zoom:1;
        }
        .tab-head{
            width:206px;
            border:1px solid #ccc;
            border-bottom:none;

        }
         .tab-head>li{
            float:left;
            padding:10px 0px;        
           
        }
    
        .tab-head li:last-child a{
            border: none;
        }
        .tab-head a{
            display: block;
            padding:0px 10px;
          border-right:1px solid #ccc;
            
        }
        .tab-content{
            border:1px solid #ccc;
             width:1012px;
        }
        
        .prod-ct{
            margin-left:-20px;
            margin-top:-20px;
            
        }
        .prod{
            border: 1px solid #eee;
            float:left;
            text-align:center;
            padding:20px;
            margin-left:20px;
            margin-top:20px;
            position:relative;
        }
        .cover{
            position:absolute;
            left: 0px;
            top:0px;
            bottom:0px;
            right:0px;
            background:rgba(0,0,0,0.3);
            opacity:0;
            
        }
        .hover .cover{
            opacity:1;

        }
        .btn{
            position:absolute;
            top:50%;
            left: 50%;
            border:1px solid #c81623;
            color:#c81623;
            padding:10px 15px;
            text-align: center;
            border-radius: 3px;
            background:#fff;
            cursor:pointer;
            margin-top:-20px;
            margin-left:-50px;
        }
        .prod-name{
            font-size:14px;

        }
        .prod-price{
            color:red;
            text-align: left;
            padding:5px;
        }
        .tab-head li.active{
            background:#ccc;
        }
        .tab-head li.active a{
            color:red;
        }
        .panle{
            display: none;
        }
        .active{
            display:block;
        }
        .add{
            padding:10px;
            border: 1px solid red;
            background:white;
            margin-top:20px;
        }
        
        
    </style>
</head>
<body>
    <div class="tab">
        <ul class="tab-head clear">
            <li class="active"><a href="javascript:void(0)">热门</a></li>
            <li><a href="javascript:void(0)">珠宝首饰</a></li>
            <li><a href="javascript:void(0)">奢侈品</a></li>
        </ul>
        <ul class="tab-content">
            <li class="panle active">
                <ul class="prod-ct clear">
                    <li class="prod">
                        <div class="cover">
                            <a class="btn" href="javascript:void(0)">立即抢购</a>
                        </div>
                        <a href="javascript:void(0)">
                            <img src="http://img10.360buyimg.com/N3/jfs/t1360/330/897475737/123557/23624706/55b05e25N13d4ec5e.jpg" alt="">
                            <div class="prod-name">藏美千足金和田玉镶玉路通吊坠</div>
                            <div class="prod-price">￥1699.00</div>
                        </a>
                    </li>
                    <li class="prod">
                        <div class="cover">
                            <a class="btn" href="javascript:void(0)">立即抢购</a>
                        </div>
                        <a href="javascript:void(0)">
                            <img src="http://img10.360buyimg.com/N3/jfs/t1360/330/897475737/123557/23624706/55b05e25N13d4ec5e.jpg" alt="">
                            <div class="prod-name">藏美千足金和田玉镶玉路通吊坠</div>
                            <div class="prod-price">￥1699.00</div>
                        </a>
                    </li>
                    <li class="prod">
                        <div class="cover">
                            <a class="btn" href="javascript:void(0)">立即抢购</a>
                        </div>
                        <a href="javascript:void(0)">
                            <img src="http://img10.360buyimg.com/N3/jfs/t1360/330/897475737/123557/23624706/55b05e25N13d4ec5e.jpg" alt="">
                            <div class="prod-name">藏美千足金和田玉镶玉路通吊坠</div>
                            <div class="prod-price">￥1699.00</div>
                        </a>
                    </li>
                    <li class="prod">
                        <div class="cover">
                            <a class="btn" href="javascript:void(0)">立即抢购</a>
                        </div>
                        <a href="javascript:void(0)">
                            <img src="http://img10.360buyimg.com/N3/jfs/t1360/330/897475737/123557/23624706/55b05e25N13d4ec5e.jpg" alt="">
                            <div class="prod-name">藏美千足金和田玉镶玉路通吊坠</div>
                            <div class="prod-price">￥1699.00</div>
                        </a>
                    </li>
                    <li class="prod">
                        <div class="cover">
                            <a class="btn" href="javascript:void(0)">立即抢购</a>
                        </div>
                        <a href="javascript:void(0)">
                            <img src="http://img10.360buyimg.com/N3/jfs/t1360/330/897475737/123557/23624706/55b05e25N13d4ec5e.jpg" alt="">
                            <div class="prod-name">藏美千足金和田玉镶玉路通吊坠</div>
                            <div class="prod-price">￥1699.00</div>
                        </a>
                    </li>
                    <li class="prod">
                        <div class="cover">
                            <a class="btn" href="javascript:void(0)">立即抢购</a>
                        </div>
                        <a href="javascript:void(0)">
                            <img src="http://img10.360buyimg.com/N3/jfs/t1360/330/897475737/123557/23624706/55b05e25N13d4ec5e.jpg" alt="">
                            <div class="prod-name">藏美千足金和田玉镶玉路通吊坠</div>
                            <div class="prod-price">￥1699.00</div>
                        </a>
                    </li>
                    <li class="prod">
                        <div class="cover">
                            <a class="btn" href="javascript:void(0)">立即抢购</a>
                        </div>
                        <a href="javascript:void(0)">
                            <img src="http://img10.360buyimg.com/N3/jfs/t1360/330/897475737/123557/23624706/55b05e25N13d4ec5e.jpg" alt="">
                            <div class="prod-name">藏美千足金和田玉镶玉路通吊坠</div>
                            <div class="prod-price">￥1699.00</div>
                        </a>
                    </li>
                    <li class="prod">
                        <div class="cover">
                            <a class="btn" href="javascript:void(0)">立即抢购</a>
                        </div>
                        <a href="javascript:void(0)">
                            <img src="http://img10.360buyimg.com/N3/jfs/t1360/330/897475737/123557/23624706/55b05e25N13d4ec5e.jpg" alt="">
                            <div class="prod-name">藏美千足金和田玉镶玉路通吊坠</div>
                            <div class="prod-price">￥1699.00</div>
                        </a>
                    </li>
                    
                </ul>
            </li>
          
        </ul>
    <input class="add" type="button" value="添加">
    </div>
    
    


     <script src="jquery-3.2.0.min.js"></script>
     <script>
    
 	

                var products = [
                    {
                        img: 'http://img10.360buyimg.com/N3/jfs/t2242/92/1446546284/374195/9196ac66/56af0958N1a723458.jpg',
                        name: '珂兰 黄金手 猴哥款',
                        price: '￥405.00'
                    },{
                        img: 'http://img10.360buyimg.com/N3/jfs/t2242/92/1446546284/374195/9196ac66/56af0958N1a723458.jpg',
                        name: '珂兰 黄金转运珠 猴哥款',
                        price: '￥100.00'
                    },{
                        img: 'http://img10.360buyimg.com/N3/jfs/t2242/92/1446546284/374195/9196ac66/56af0958N1a723458.jpg',
                        name: '珂兰 黄金手链 3D猴哥款',
                        price: '￥45.00'
                    }
                ];

                function getProdHtml(prod){
                    var html = '';
                    html += '<li class="prod">';
                    html +=   '<div class="cover"><a class="btn" href="">立即抢购</a></div>'
                    html +=    '<a href="#">'
                    html +=      '<img src="'+prod.img+'" alt="">'
                    html +=      '<div class="prod-name">'+prod.name+'</div>'
                    html +=      '<div class="prod-price">'+prod.price+'</div>'
                    html +=    '</a>'
                    html += '</li>';
                    return html;
                }


                $('.add').on('click', function(e){
                    e.preventDefault();//取消事件的默认动作。
                    $.each(products, function(index, prod){//一个通用的迭代函数，它可以用来无缝迭代对象和数组。
                                                          //数组和类似数组的对象通过一个长度属性（如一个函数的参数对象）来迭代数字索引，
                                                          //从0到length - 1。其他对象通过其属性名进行迭代。

                     //console.log( index +':'+$(this) )   
                    //console.log( index +':'+prod )   
                    console.log(index);
                    console.log(prod);                           
                        var html = getProdHtml(prod);
                        $('.prod-ct').append(html);
                    });
                });

                $(' .prod-ct').on('mouseenter', '.prod', function(e){
                $(this).addClass('hover');
                });
                $(' .prod-ct').on('mouseleave','.prod', function(e){
                $(this).removeClass('hover');
                });
                /*
                //为什么这样有问题//因为先添加的元素不会有mouseenter的效果。
                $(' .prod').on('mouseenter', function(e){
                $(this).addClass('hover');
                });
                $(' .prod').on('mouseleave', function(e){
                $(this).removeClass('hover');
                });
                */

 

     </script>

</body>
</html>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
#div1{width:100px; height:100px; background:red; position:absolute;}

</style>
<script>
window.onload = function()
{
	var oDiv = document.getElementById('div1')
	var disx=0;
	var disy=0;

	oDiv.onmousedown = function(ev)
	{
		var oEvent= ev||event
		
		disx=oEvent.clientX-oDiv.offsetLeft
		disy=oEvent.clientY-oDiv.offsetTop
		
		//在ie下
		if(oDiv.setCapture){
			oDiv.onmousemove=function(ev)
			
			{
				var oEvent= ev||event
				var l=oEvent.clientX-disx
				var t=oEvent.clientY-disy
				
				if(l<50)
				{
					l=0
				}else if(l>document.documentElement.clientWidth-oDiv.offsetWidth)
				{
					l=document.documentElement.clientWidth-oDiv.offsetWidth
				}
				
				if(t<50)
				{
					t=0
				}else if(t>document.documentElement.clientHeight-oDiv.offsetHeight)
				{
					t=document.documentElement.clientHeight-oDiv.offsetHeight
				}
				
				oDiv.style.left=l+'px'
				oDiv.style.top=t+'px'
			}
			   oDiv.onmouseup = function()
			{
				oDiv.onmousemove=null
				oDiv.onmouseup=null
				oDiv.releaseCapture();
			}
			
				oDiv.setCapture();
		}
		//在FF ch 下
		else{
					document.onmousemove=function(ev)
				
				{
					var oEvent= ev||event
					var l=oEvent.clientX-disx
					var t=oEvent.clientY-disy
					
					if(l<50)
					{
						l=0
					}else if(l>document.documentElement.clientWidth-oDiv.offsetWidth)
					{
						l=document.documentElement.clientWidth-oDiv.offsetWidth
					}
					
					if(t<50)
					{
						t=0
					}else if(t>document.documentElement.clientHeight-oDiv.offsetHeight)
					{
						t=document.documentElement.clientHeight-oDiv.offsetHeight
					}
					
					oDiv.style.left=l+'px'
					oDiv.style.top=t+'px'
				}
				document.onmouseup = function()
				{
					document.onmousemove=null
					document.onmouseup=null
				}
				
			
			
		}
	
	
			
		return false  	
		 
	}
			  
		
		
	
}
</script>
</head>

<body>
的萨达萨达萨达萨达萨达
<div id="div1">第三代阿斯顿撒旦萨达萨达阿萨德按时</div>
的萨达的萨达萨达法法规的国防生的
</body>
</html>
